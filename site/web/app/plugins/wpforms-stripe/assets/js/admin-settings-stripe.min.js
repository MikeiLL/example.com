"use strict";var WPFormsSettingsStripe=window.WPFormsSettingsStripe||function(e,t){var n={liveConnectionBlock:t(".wpforms-stripe-connection-status-live"),testConnectionBlock:t(".wpforms-stripe-connection-status-test"),testModeCheckbox:t("#wpforms-setting-stripe-test-mode"),paymentCollectionTypeInputs:t("input[name=stripe-api-version]"),apiKeyInputs:t("#wpforms-setting-row-stripe-test-publishable-key, #wpforms-setting-row-stripe-test-secret-key, #wpforms-setting-row-stripe-live-publishable-key, #wpforms-setting-row-stripe-live-secret-key"),apiKeyToggle:t("#wpforms-setting-row-stripe-connection-status .desc a")},o={init:function(){t(o.ready)},ready:function(){o.events()},events:function(){t(e).on("change","input[name=stripe-api-version]",o.triggerPaymentCollectionAlert),t(e).on("change","#wpforms-setting-stripe-test-mode",o.triggerModeSwitchAlert),n.apiKeyToggle.click(function(e){e.preventDefault(),n.apiKeyInputs.toggle()})},triggerPaymentCollectionAlert:function(){var e=parseInt(t("input[name=stripe-api-version]:checked").val(),10);2===e&&wpforms_admin_settings_stripe.has_payment_forms_elements&&t.alert({title:wpforms_admin.heads_up,content:'<div id="wpforms-stripe-payment-collection-update-modal">'+wpforms_admin_settings_stripe.payment_collection_type_modal_legacy+"</div>",backgroundDismiss:!1,boxWidth:"425px",closeIcon:!1,icon:"fa fa-exclamation-circle",type:"orange",buttons:{confirm:{text:wpforms_admin.ok,btnClass:"btn-confirm",keys:["enter"]},cancel:{text:wpforms_admin.cancel,keys:["esc"],action:function(){n.paymentCollectionTypeInputs.filter("[value=3]").prop("checked",!0)}}}}),3===e&&wpforms_admin_settings_stripe.has_payment_forms_legacy&&t.alert({title:wpforms_admin.heads_up,content:'<div id="wpforms-stripe-payment-collection-update-modal">'+wpforms_admin_settings_stripe.payment_collection_type_modal_elements+"</div>",backgroundDismiss:!1,boxWidth:"425px",closeIcon:!1,icon:"fa fa-exclamation-circle",type:"orange",buttons:{confirm:{text:wpforms_admin_settings_stripe.payment_collection_type_modal_elements_ok,btnClass:"btn-confirm btn-block btn-normal-case",keys:["enter"]},cancel:{text:wpforms_admin_settings_stripe.payment_collection_type_modal_elements_cancel,btnClass:"btn-block btn-normal-case",keys:["esc"],action:function(){n.paymentCollectionTypeInputs.filter("[value=2]").prop("checked",!0)}}}})},triggerModeSwitchAlert:function(){n.testModeCheckbox.is(":checked")?(n.liveConnectionBlock.hide(),n.testConnectionBlock.show()):(n.liveConnectionBlock.show(),n.testConnectionBlock.hide()),t("#wpforms-setting-row-stripe-connection-status .wpforms-connected").is(":visible")||t.alert({title:wpforms_admin.heads_up,content:wpforms_admin_settings_stripe.mode_update,icon:"fa fa-exclamation-circle",type:"orange",buttons:{confirm:{text:wpforms_admin.ok,btnClass:"btn-confirm",keys:["enter"]}}})}};return o}(document,(window,jQuery));WPFormsSettingsStripe.init();