"use strict";var WPFormsStripe=window.WPFormsStripe||function(r,f){var e={init:function(){f(r).on("wpformsReady",e.submitHandler)},submitHandler:function(){f(".wpforms-stripe form").each(function(){var r=f(this).validate().settings,o=r.submitHandler;r.submitHandler=function(d){var a=f(d),r=a.find(".wpforms-field-credit-card-cardname"),e=a.find(".wpforms-field-credit-card-cardcvc"),i=a.find(".wpforms-field-credit-card-cardnumber"),t=a.find(".wpforms-field-credit-card-cardmonth"),n=a.find(".wpforms-field-credit-card-cardyear"),s=a.validate().form();if(s&&0<i.val().length)a.find(".wpforms-submit").prop("disabled",!0),Stripe.setPublishableKey(wpforms_stripe.publishable_key),Stripe.card.createToken({number:i.val(),name:r.val(),cvc:e.val(),exp_month:t.val(),exp_year:n.val()},function(r,e){if(!e.error)return a.append('<input type="hidden" name="wpforms[stripeToken]" value="'+e.id+'">'),o(d);a.find(".wpforms-submit").prop("disabled",!1);var i=a.find(".wpforms-submit-container");i.siblings(".wpforms-error-stripe").remove(),i.before('<div class="wpforms-error-alert wpforms-error-stripe">'+e.error.message+"</div>"),a.validate().cancelSubmit=!0});else{if(s)return a.find(".wpforms-submit").prop("disabled",!1),o(d);a.find(".wpforms-submit").prop("disabled",!1),a.validate().cancelSubmit=!0}}})}};return e}(document,(window,jQuery));WPFormsStripe.init();